{"version":3,"file":"easy-redux-react.js","sources":["../node_modules/rollup-plugin-node-globals/src/global.js","../node_modules/process-es6/browser.js","../node_modules/invariant/invariant.js","../node_modules/redux-actions/es/utils/isFunction.js","../node_modules/redux-actions/es/utils/toString.js","../node_modules/redux-actions/es/constants.js","../node_modules/redux-actions/es/utils/identity.js","../node_modules/redux-actions/es/utils/isNull.js","../node_modules/redux-actions/es/createAction.js","../node_modules/redux-actions/es/utils/isPlainObject.js","../node_modules/redux-actions/es/utils/isNil.js","../node_modules/to-no-case/index.js","../node_modules/redux-actions/es/utils/isMap.js","../node_modules/redux-actions/es/utils/ownKeys.js","../node_modules/redux-actions/es/utils/get.js","../node_modules/redux-actions/es/utils/flattenWhenNode.js","../node_modules/redux-actions/es/utils/isUndefined.js","../node_modules/redux-actions/es/handleAction.js","../node_modules/reduce-reducers/es/index.js","../node_modules/redux-actions/es/utils/hasGeneratorInterface.js","../node_modules/redux-actions/es/utils/flattenReducerMap.js","../node_modules/redux-actions/es/handleActions.js","../lib/utils.ts","../lib/index.tsx"],"sourcesContent":["export default (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar NODE_ENV = process.env.NODE_ENV;\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","export default (function (value) {\n  return typeof value === 'function';\n});","export default (function (value) {\n  return value.toString();\n});","export var DEFAULT_NAMESPACE = '/';\nexport var ACTION_TYPE_DELIMITER = '||';","export default (function (value) {\n  return value;\n});","export default (function (value) {\n  return value === null;\n});","import invariant from 'invariant';\nimport isFunction from './utils/isFunction';\nimport identity from './utils/identity';\nimport isNull from './utils/isNull';\nexport default function createAction(type, payloadCreator, metaCreator) {\n  if (payloadCreator === void 0) {\n    payloadCreator = identity;\n  }\n\n  invariant(isFunction(payloadCreator) || isNull(payloadCreator), 'Expected payloadCreator to be a function, undefined or null');\n  var finalPayloadCreator = isNull(payloadCreator) || payloadCreator === identity ? identity : function (head) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return head instanceof Error ? head : payloadCreator.apply(void 0, [head].concat(args));\n  };\n  var hasMeta = isFunction(metaCreator);\n  var typeString = type.toString();\n\n  var actionCreator = function actionCreator() {\n    var payload = finalPayloadCreator.apply(void 0, arguments);\n    var action = {\n      type: type\n    };\n\n    if (payload instanceof Error) {\n      action.error = true;\n    }\n\n    if (payload !== undefined) {\n      action.payload = payload;\n    }\n\n    if (hasMeta) {\n      action.meta = metaCreator.apply(void 0, arguments);\n    }\n\n    return action;\n  };\n\n  actionCreator.toString = function () {\n    return typeString;\n  };\n\n  return actionCreator;\n}","export default (function (value) {\n  if (typeof value !== 'object' || value === null) return false;\n  var proto = value;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(value) === proto;\n});","export default (function (value) {\n  return value === null || value === undefined;\n});","\n/**\n * Export.\n */\n\nmodule.exports = toNoCase\n\n/**\n * Test whether a string is camel-case.\n */\n\nvar hasSpace = /\\s/\nvar hasSeparator = /(_|-|\\.|:)/\nvar hasCamel = /([a-z][A-Z]|[A-Z][a-z])/\n\n/**\n * Remove any starting case from a `string`, like camel or snake, but keep\n * spaces and punctuation that may be important otherwise.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toNoCase(string) {\n  if (hasSpace.test(string)) return string.toLowerCase()\n  if (hasSeparator.test(string)) return (unseparate(string) || string).toLowerCase()\n  if (hasCamel.test(string)) return uncamelize(string).toLowerCase()\n  return string.toLowerCase()\n}\n\n/**\n * Separator splitter.\n */\n\nvar separatorSplitter = /[\\W_]+(.|$)/g\n\n/**\n * Un-separate a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction unseparate(string) {\n  return string.replace(separatorSplitter, function (m, next) {\n    return next ? ' ' + next : ''\n  })\n}\n\n/**\n * Camelcase splitter.\n */\n\nvar camelSplitter = /(.)([A-Z]+)/g\n\n/**\n * Un-camelcase a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction uncamelize(string) {\n  return string.replace(camelSplitter, function (m, previous, uppers) {\n    return previous + ' ' + uppers.toLowerCase().split('').join(' ')\n  })\n}\n","export default (function (value) {\n  return typeof Map !== 'undefined' && value instanceof Map;\n});","import isMap from './isMap';\nexport default function ownKeys(object) {\n  if (isMap(object)) {\n    // We are using loose transforms in babel. Here we are trying to convert an\n    // interable to an array. Loose mode expects everything to already be an\n    // array. The problem is that our eslint rules encourage us to prefer\n    // spread over Array.from.\n    //\n    // Instead of disabling loose mode we simply disable the warning.\n    // eslint-disable-next-line unicorn/prefer-spread\n    return Array.from(object.keys());\n  }\n\n  if (typeof Reflect !== 'undefined' && typeof Reflect.ownKeys === 'function') {\n    return Reflect.ownKeys(object);\n  }\n\n  var keys = Object.getOwnPropertyNames(object);\n\n  if (typeof Object.getOwnPropertySymbols === 'function') {\n    keys = keys.concat(Object.getOwnPropertySymbols(object));\n  }\n\n  return keys;\n}","import isMap from './isMap';\nexport default function get(key, x) {\n  return isMap(x) ? x.get(key) : x[key];\n}","import { DEFAULT_NAMESPACE, ACTION_TYPE_DELIMITER } from '../constants';\nimport ownKeys from './ownKeys';\nimport get from './get';\nexport default (function (predicate) {\n  return function flatten(map, _temp, partialFlatMap, partialFlatActionType) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        _ref$namespace = _ref.namespace,\n        namespace = _ref$namespace === void 0 ? DEFAULT_NAMESPACE : _ref$namespace,\n        prefix = _ref.prefix;\n\n    if (partialFlatMap === void 0) {\n      partialFlatMap = {};\n    }\n\n    if (partialFlatActionType === void 0) {\n      partialFlatActionType = '';\n    }\n\n    function connectNamespace(type) {\n      var _ref2;\n\n      if (!partialFlatActionType) return type;\n      var types = type.toString().split(ACTION_TYPE_DELIMITER);\n      var partials = partialFlatActionType.split(ACTION_TYPE_DELIMITER);\n      return (_ref2 = []).concat.apply(_ref2, partials.map(function (p) {\n        return types.map(function (t) {\n          return \"\" + p + namespace + t;\n        });\n      })).join(ACTION_TYPE_DELIMITER);\n    }\n\n    function connectPrefix(type) {\n      if (partialFlatActionType || !prefix || prefix && new RegExp(\"^\" + prefix + namespace).test(type)) {\n        return type;\n      }\n\n      return \"\" + prefix + namespace + type;\n    }\n\n    ownKeys(map).forEach(function (type) {\n      var nextNamespace = connectPrefix(connectNamespace(type));\n      var mapValue = get(type, map);\n\n      if (predicate(mapValue)) {\n        flatten(mapValue, {\n          namespace: namespace,\n          prefix: prefix\n        }, partialFlatMap, nextNamespace);\n      } else {\n        partialFlatMap[nextNamespace] = mapValue;\n      }\n    });\n    return partialFlatMap;\n  };\n});","export default (function (value) {\n  return value === undefined;\n});","import invariant from 'invariant';\nimport isFunction from './utils/isFunction';\nimport isPlainObject from './utils/isPlainObject';\nimport identity from './utils/identity';\nimport isNil from './utils/isNil';\nimport isUndefined from './utils/isUndefined';\nimport toString from './utils/toString';\nimport { ACTION_TYPE_DELIMITER } from './constants';\nexport default function handleAction(type, reducer, defaultState) {\n  if (reducer === void 0) {\n    reducer = identity;\n  }\n\n  var types = toString(type).split(ACTION_TYPE_DELIMITER);\n  invariant(!isUndefined(defaultState), \"defaultState for reducer handling \" + types.join(', ') + \" should be defined\");\n  invariant(isFunction(reducer) || isPlainObject(reducer), 'Expected reducer to be a function or object with next and throw reducers');\n\n  var _ref = isFunction(reducer) ? [reducer, reducer] : [reducer.next, reducer.throw].map(function (aReducer) {\n    return isNil(aReducer) ? identity : aReducer;\n  }),\n      nextReducer = _ref[0],\n      throwReducer = _ref[1];\n\n  return function (state, action) {\n    if (state === void 0) {\n      state = defaultState;\n    }\n\n    var actionType = action.type;\n\n    if (!actionType || types.indexOf(toString(actionType)) === -1) {\n      return state;\n    }\n\n    return (action.error === true ? throwReducer : nextReducer)(state, action);\n  };\n}","export default (function () {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var initialState = typeof args[args.length - 1] !== 'function' && args.pop();\n  var reducers = args;\n\n  if (typeof initialState === 'undefined') {\n    throw new TypeError('The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.');\n  }\n\n  return function (prevState, value) {\n    for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n      args[_key2 - 2] = arguments[_key2];\n    }\n\n    var prevStateIsUndefined = typeof prevState === 'undefined';\n    var valueIsUndefined = typeof value === 'undefined';\n\n    if (prevStateIsUndefined && valueIsUndefined && initialState) {\n      return initialState;\n    }\n\n    return reducers.reduce(function (newState, reducer) {\n      return reducer.apply(undefined, [newState, value].concat(args));\n    }, prevStateIsUndefined && !valueIsUndefined && initialState ? initialState : prevState);\n  };\n});","import ownKeys from './ownKeys';\nexport default function hasGeneratorInterface(handler) {\n  var keys = ownKeys(handler);\n  var hasOnlyInterfaceNames = keys.every(function (ownKey) {\n    return ownKey === 'next' || ownKey === 'throw';\n  });\n  return keys.length && keys.length <= 2 && hasOnlyInterfaceNames;\n}","import isPlainObject from './isPlainObject';\nimport isMap from './isMap';\nimport hasGeneratorInterface from './hasGeneratorInterface';\nimport flattenWhenNode from './flattenWhenNode';\nexport default flattenWhenNode(function (node) {\n  return (isPlainObject(node) || isMap(node)) && !hasGeneratorInterface(node);\n});","import reduceReducers from 'reduce-reducers';\nimport invariant from 'invariant';\nimport isPlainObject from './utils/isPlainObject';\nimport isMap from './utils/isMap';\nimport ownKeys from './utils/ownKeys';\nimport flattenReducerMap from './utils/flattenReducerMap';\nimport handleAction from './handleAction';\nimport get from './utils/get';\nexport default function handleActions(handlers, defaultState, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  invariant(isPlainObject(handlers) || isMap(handlers), 'Expected handlers to be a plain object.');\n  var flattenedReducerMap = flattenReducerMap(handlers, options);\n  var reducers = ownKeys(flattenedReducerMap).map(function (type) {\n    return handleAction(type, get(type, flattenedReducerMap), defaultState);\n  });\n  var reducer = reduceReducers.apply(void 0, reducers.concat([defaultState]));\n  return function (state, action) {\n    if (state === void 0) {\n      state = defaultState;\n    }\n\n    return reducer(state, action);\n  };\n}","const class2type = {}\n\"Array Date RegExp Object Error\".split(\" \").forEach((e) => class2type[ \"[object \" + e + \"]\" ] = e.toLowerCase())\n\n/**\n * 类型检测\n * @export string\n * @param { any } obj\n */\nexport const type = (obj: any) => {\n    if (obj == null) return String(obj)\n    return typeof obj === \"object\" ? class2type[ Object.prototype.toString.call(obj) ] || \"object\" : typeof obj\n}\n\n// 对象循环\nexport const forin = (obj: object, fn: (value: any, key: string) => any) => {\n    for (const k in obj) obj.hasOwnProperty(k) && fn(obj[k], k)\n}\n\n// 全大写下划线 转 驼峰\nexport const toHump = (name: string) => {\n    return name.toLowerCase().replace(/\\_(\\w)/g, (all, letter: string) => letter.toUpperCase())\n}\n","import React from 'react'\nimport { combineReducers, createStore, Reducer, Store } from 'redux'\nimport { connect, Provider } from 'react-redux'\nimport { handleActions, createAction } from 'redux-actions'\nimport { type, forin, toHump } from './utils'\n\ninterface IReduxConfig {\n    [propsName: string]: {\n        initValue: any,\n        actions: {\n            [propsName: string]: (state: any, data: { payload: number, type: string }) => any,\n        },\n    }\n}\n\ninterface IDispatchMap {\n    [actionName: string]: string | {\n        fetch: (...params: any) => Promise<any>,\n        success: string,\n        error?: string,\n    }\n}\n\ntype ICheckRes = (res: any) => boolean\ntype IHandleRes= (res: any) => any\n\ninterface IPorps {\n    reduxConfig: IReduxConfig\n    hydrateData?: object\n    checkRes?: ICheckRes\n    handleRes?: IHandleRes\n}\n\nconst OUTPUT = {\n    _pre: `[easy-redux-react]`,\n    warn: (msg: string) => {\n        console.warn(`${OUTPUT._pre}warn: ${msg}`)\n    },\n    error: (msg: string) => {\n        throw new Error(`${OUTPUT._pre}error: ${msg}.`)\n    },\n}\n\nexport default class EasyReduxReact {\n    // redux store\n    private store: Store\n    private hydrateData: object | null = null\n    private reducers: Reducer\n    private reduxConfig: IReduxConfig\n    private checkRes: ICheckRes\n    private handleRes: IHandleRes\n    private Provider\n    private connect\n    constructor(options: IPorps) {\n        const {\n            reduxConfig,\n            hydrateData = null,\n            checkRes = () => true,\n            handleRes = (res: any) => res,\n        }  = options\n        this.reduxConfig = reduxConfig\n        this.hydrateData = hydrateData\n        this.checkRes = checkRes\n        this.handleRes = handleRes\n        this.connect = connect\n        this.Provider = Provider\n        this.init()\n    }\n    private init() {\n        this.initReducers()\n            .createStore()\n    }\n\n    // 创建 store\n    private createStore() {\n        this.store = createStore(this.reducers)\n    }\n\n    // 通过 reduxConfig 转换成 reducers\n    private initReducers() {\n        const _reducers = {}\n        forin(this.reduxConfig, ({ initValue, actions }, stateKey: string) => {\n            const reducerMap = {}\n            const value = (this.hydrateData && this.hydrateData[stateKey]) || initValue\n            forin(actions, (reducer: (state: any, data: any) => any, action) => reducerMap[action] = reducer)\n            _reducers[stateKey] = handleActions(reducerMap, value)\n        })\n        this.reducers = combineReducers(_reducers)\n        return this\n    }\n\n    // 连接属性\n    private connectState(stateKeys: string[]) {\n        return (state: any) => {\n            const _o = {}\n            stateKeys.map((v) => _o[v] = state[v])\n            return _o\n        }\n    }\n\n    // 连接方法\n    private connectDispatch(dispatchMap: IDispatchMap) {\n        return (dispatch: any) => {\n            const _o = {}\n            forin(dispatchMap, (v: any, k) => {\n                _o[k] = (...data: any[]) => {\n                    const typeV = type(v)\n                    if (typeV === 'string') {\n                        dispatch(createAction(v)(...data))\n                    } else if (typeV === 'object') {\n                        if (type(v.fetch) === 'function') {\n                            return v.fetch(...data).then((res: any) => {\n                                if (this.checkRes(res)) {\n                                    if (v.success) {\n                                        dispatch(createAction(v.success)(this.handleRes(res)))\n                                        OUTPUT.warn('the dispatchMap item should have a success action.')\n                                    }\n                                    return res\n                                } else {\n                                    return Promise.reject(res)\n                                }\n                            }).catch((err: any) => {\n                                v.error && dispatch(createAction(v.error)(err))\n                                return Promise.reject(err)\n                            })\n                        } else if (type(v.action) === 'string') {\n                            dispatch(createAction(v.action)(...data))\n                        } else {\n                            OUTPUT.error('dispatchMap error!')\n                        }\n                    }\n                }\n            })\n            return _o\n        }\n    }\n\n    private getDefaultDispatchMap(stateKeys: string[]) {\n        const dispatchMap = {}\n        stateKeys.map((key) => {\n            const actions = this.reduxConfig[key].actions\n            Object.keys(actions).map((actionName) => {\n                const propsName = toHump(actionName)\n                dispatchMap[propsName] = actionName\n            })\n        })\n        return dispatchMap\n    }\n\n    // 获取 store\n    public getStore() {\n        !this.store && this.init()\n        return this.store\n    }\n\n    // 获取 reducers\n    public getReducers() {\n        !this.reducers && this.initReducers()\n        return this.reducers\n    }\n\n    // 连接组件\n    public connectTo(\n        module: object,\n        stateKeys: string[] = Object.keys(this.reduxConfig),\n        dispatchMap: IDispatchMap = this.getDefaultDispatchMap(stateKeys),\n    ) {\n        if (!module) {\n            OUTPUT.error(`the first parameter must be a react component to connect`)\n        }\n        const stateConnect = this.connectState(stateKeys)\n        const dispatchConnect = this.connectDispatch(dispatchMap)\n        return this.connect(stateConnect, dispatchConnect)(module)\n    }\n\n    public getProvider() {\n        const Provider = this.Provider\n        return (props) => (\n            <Provider store={this.getStore()}>\n                {props.children}\n            </Provider>\n        )\n    }\n}\n"],"names":["global","invariant","connect","Provider","createStore","combineReducers"],"mappings":"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"}